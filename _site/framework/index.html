<!DOCTYPE html>
 <html lang="en">
  <head>
    <meta charset="utf-8">
    <title>The CMS Framework - WILL Website Manual</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="/sitemanual/assets/css/bootstrap.css">
    

    <link rel="stylesheet" href="/sitemanual/assets/css/bootstrap-responsive.css">
    <link rel="stylesheet" href="/sitemanual/assets/css/docs.css">
    <link rel="stylesheet" href="/sitemanual/assets/js/google-code-prettify/prettify.css">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="assets/js/html5shiv.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/assets/ico/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="/assets/ico/apple-touch-icon-114-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="/assets/ico/apple-touch-icon-72-precomposed.png">
    <link rel="apple-touch-icon-precomposed" href="/assets/ico/apple-touch-icon-57-precomposed.png">
    <link rel="shortcut icon" href="/assets/ico/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/assets/ico/favicon.ico" type="image/x-icon">
  </head>

  <body data-spy="scroll" data-target=".bs-docs-sidebar">

    <!-- Navbar
    ================================================== -->
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <button type="button" class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="brand" href="mailto:will-web@illinois.edu?subject=website_issues">contact the Webmaster</a>
          <div class="nav-collapse collapse">
            <ul class="nav">
              <li class="">
                <a href="/sitemanual/">Home</a>
              </li>
              <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                  For Content Authors
                  <b class="caret"></b>
                </a>
                <ul class="dropdown-menu">
                  <li><a href="/sitemanual/intro">Website Introduction &amp; Structure</a></li>
                  <li><a href="/sitemanual/publish">How to Publish Web Content</a></li>
                  <li><a href="/sitemanual/digitalmedia">Digital Media Essentials</a></li>
                  <li><a href="/sitemanual/metadata">Good Metadata Practices</a></li>
                </ul>
              </li>
              <li class="dropdown">
                <a href="/#" class="dropdown-toggle" data-toggle="dropdown">
                  For Section &amp; Project Owners
                  <b class="caret"></b>
                </a>
                <ul class="dropdown-menu">
                  <li><a href="/sitemanual/branding">Digital Content Branding Specification</a></li>
                </ul>
              </li>   

              <li class="dropdown">
                <a href="/#" class="dropdown-toggle" data-toggle="dropdown">
                  For Site Managers
                  <b class="caret"></b>
                </a>
                <ul class="dropdown-menu">
                  <li><a href="/sitemanual/framework">CMS Framework</a></li>
                  <li><a href="/sitemanual/pages">Unique Pages</a></li>
                </ul>
              </li>  
              <!--
              <li class="">
                <a href="/sitemanual/admins">For CMS Admins</a>
              </li>
              -->
            </ul>
          </div>
        </div>
      </div>
    </div>

<!-- Subhead
================================================== -->
<header class="jumbotron subhead" id="overview">
  <div class="container">
    <h1>The CMS Framework</h1>
    <p class="lead">How the Site is Constructed</p>

    <div id="carbonads-container">
      <div class="carbonad">
         <img src="http://jackatwill.com/_site/assets/img/WILL-Home-Page.png" alt="WILL Home page"/>
      </div>
    </div>    
</header>


  <div class="container">

    <!-- Docs nav
    ================================================== -->
    <div class="row">
      <div class="span3 bs-docs-sidebar">
        <ul class="nav nav-list bs-docs-sidenav">
          <li><a href="#ee-cms"><i class="icon-chevron-right"></i> ExpressionEngine CMS</a></li>
          <li><a href="#bootstrap"><i class="icon-chevron-right"></i> Boostrap framework</a></li>
          <li><a href="#site-components"><i class="icon-chevron-right"></i> Site Components</a></li>
          <li><a href="#field-group"><i class="icon-chevron-right"></i> One Field Group to Rule Them All</a></li>
          <li><a href="#templates"><i class="icon-chevron-right"></i> Template &amp; Content Structure</a></li>
          <li><a href="#snippets"><i class="icon-chevron-right"></i> Snippets</a></li>
          <li><a href="#embeds"><i class="icon-chevron-right"></i> Embeds</a></li>
          <li><a href="#gv"><i class="icon-chevron-right"></i> Global Variables</a></li>
          <li><a href="#lowvariables"><i class="icon-chevron-right"></i> Low Variables</a></li>
          <li><a href="#statictemplates"><i class="icon-chevron-right"></i> Static Templates</a></li>
          <li><a href="#audioplayers"><i class="icon-chevron-right"></i> Audioplayers</a></li>          
          <li><a href="#pages"><i class="icon-chevron-right"></i> Pages</a></li>
          <li><a href="#outliers"><i class="icon-chevron-right"></i> Outlier Content Sections</a></li>         

        </ul>
      </div> <!-- span3 -->
      
      <div class="span9">


    <!-- Why ExpressionEngine
    ================================================== -->
        <section id="ee-cms">
          <div class="page-header">
            <h1>ExpressionEngine CMS</h1>
          </div>
          <p class="lead">Since 2006 we have used ExpressionEngine for our CMS. Technically it's not any better or worse than other platforms like Drupal or WordPress, but it does provide more ease of use and flexibility for web designers. For one thing, there is no default markup or CSS, so you are free to build whatever kinds of templates and pages you wish. You can easily mix static pages with database-driven content pages, with very few limits to what kind of site you can build.</p>
          <p>Building templates in EE is straightforward and you can use your favorite authoring tools. Templates are saved in the EE database and you can edit them directly in the Control Panel. But the CP gives you a fairly crappy text editor, so it's easier to work with the templates in a dedicated code editor. There are several simple ways of doing this, but on the Mac it's easiest to use a third-party plugin called <a href="http://hellomountee.com/">Mountee</a>, which mounts your EE templates like a drive.</p>
          <p>EE templates are php files, so you can set your file handling preferences to open them in whatever code editor you prefer.</p>
          <p><i class="icon-hand-right"></i> <em>A complete EE technical resource and user guide for administrators is available in the <a href="http://ellislab.com/expressionengine/user-guide/">ExpressionEngine User Guide</a></em>.</p>  
      </section>
        
        <!-- Logging into the CMS
        ================================================== -->
        <section id="bootstrap">
          <div class="page-header">
            <h2>The Bootstrap framework</h2>
          </div>
          <p class="lead">The WILL website uses the <a href="http://getbootstrap.com/" target="_blank">Bootstrap responsive web design framework</a>.</p> 
          <p>Bootstrap provides a responsive grid and a useful set of element styles like buttons, forms, labels, and navigation. It also has a very useful JavaScript library based on JQuery, for things like carousels, tabs, accordions, etc. Each of these elements can easily be re-styled.</p>
          <p><i class="icon-hand-right"></i> <em>The WILL site currently uses Bootstrap 3.2, but Bootstrap is under rapid development and as of January 1, 2015 is at version 3.3. We will update the core Bootstrap files over time, always first on our dev and staging servers before applying changes to the live server.</em></p>          
        </section>

    <!-- Entry Date
    ================================================== -->        
        <section id="site-components">
          <div class="page-header">
            <h2>Site Components</h2>
          </div>
          <p class="lead">Every CMS-driven website consists of a bundle of things, like a file system, a database, scripts, and possibly a framework. Here's what we're using:</p>
          <ul>
            <li>ExpressionEngine CMS, running on a LAMP stack inside a virtual machine. Everything from the VM on up to the CMS is managed by Taylor Judd, our Internet Technology Specialist/SysAdmin.</li>
            <li>the Bootstrap framework, mentioned above. The core Bootstrap files are in the <code>/themes/site_themes/will2.1</code> folder on the server. These files include all the Bootstrap JavaScript, the never-edit-these Bootstrap stylesheets, an images folder containing theme images, and a plugins folder for additional JS and CSS files. You'll also find a 'weather' folder here which contains custom JS and CSS files for the /weather page.</li>
            <li>Overrides of default Boostrap styles, and custom styles defined for the WILL 2.1 site, are contained in the file custom.css.</li>
            <li>We're using MediaElement.js for our audio players. All the files for this are in <code>/themes/site_themes/mediaelement</code>.</li>
            <li>The folder <code>/will2.1/plugins/weather</code> contains the JavaScript used on the weather/index page. Inside this folder, the images folder contains a set of weather icons used by the Yahoo Weather plugin that generates the weather icon seen in the header of every page.</li>
            <li>All the EE addon files are contained in <code>/ipmsys/expressionengine/third_party</code>, and <code>/themes/third_party</code>, the default location for EE addons.</li>
            <li>We also set up a very important folder for uploading files through EE Entry forms: <code>/nfs</code> contains a large number of mp3 audio files, plus PDF documents and other allowed filetypes uploaded with entries for use on the site. The NFS share is mapped from the web server, and <strong>is not part of the standard EE install</strong>.</li>
          </ul>         
        </section>  
        
     <!-- One Field Group
    ================================================== -->        
        <section id="field-group">
          <div class="page-header">
            <h2>One Field Group to Rule Them All</h2>
          </div>
          <p class="lead">All EE channels throughout the site use the same Custom Field group: items. This allows us to reuse template code for all channels, reducing the complexity of templates, and dramatically improving site performance and ease of maintenance.</p>
          <p>Some channels use only a few fields. Entry forms are customized to only show the relevant fields, to simplify the interface for content authors. It's easy to customize the entry form on a per-user group basis. Here are the <a href="https://ellislab.com/expressionengine/user-guide/cp/content/publish_page_layouts.html" target="_blank">instructions for customizing the Publish Page layout</a>.</p>
        </section>  
               
     <!-- Template and Content Structure
    ================================================== -->        
        <section id="templates">
          <div class="page-header">
            <h2>Template and Content Structure</h2>
          </div>
          <p class="lead">Each section of the site has its own Template Group containing an index page template, and one or more single-entry page templates. Most sections are very simple: a Home page and many entry pages, all generated by two main templates. A few sections are fairly complex, using templates with conditional logic to generate a variety of pages and views.</p>
          <h3>Template Architecture</h3>
          <p>All web pages and feeds are generated by using markup and logic contained in:</p>
        <ul>
          <li>Templates</li>
          <li>Snippets</li>
          <li>Embeds</li>
          <li>Global Variables</li>
          <li>Low Variables</li>
        </ul>
        <p>Almost all Templates contain only pre-defined variables that are passed on to Snippets. Snippets contain most of the actual markup and logic, but also make use of embedded Global Variables and Embedded templates. Basically, Snippets are the heart and soul of the site, and they include other elements as needed.</p>

<p>Pre-defined variables are passed from the Templates to Snippets, and sometimes from Snippets to Embeds. Each pre-defined variable has been given a prefix to clarify its role in the logic. </p>

<p>For example in the index page for a given content section, we set the value its channel in the variable {pre_channel}, where the prefix “pre_” shows that the variable is being passed to the Snippet before any logic is applied to anything. In the Snippet, {pre_channel} is replaced by the value defined in the template, for example “news”.</p>

<p>By pre-defining many variables in the Templates, we can re-use the same Snippets to generate pages and feeds for the vast majority of the site.</p> 


<h4>Example: new/index template</h4>

<pre>
{preload_replace:pre_title="News"}
{preload_replace:pre_channel="features|news|newsnational"}
{preload_replace:pre_logo="IPM_Logo_Main.png"}
{preload_replace:pre_description="In-depth reporting from WILL, NPR, and other sources"}
{preload_replace:pre_keywords="News, Public Affairs, WILL, Illinois Public Media, Radio, Public Radio, University of Illinois, Illinois, NPR"}
{preload_replace:pre_limit="10"}
{preload_replace:pre_show_future="no"}
{preload_replace:pre_show_expired="no"}
{preload_replace:pre_highlights_categories="72"}
{preload_replace:pre_section_template="news"}
{preload_replace:pre_tag_channel_template="news"}
{preload_replace:pre_sidebar_template="embeds/_embed_sidebar_news"}
{preload_replace:pre_channel_item_name="Stories"}
{preload_replace:pre_channel_description_entry_id="19028"}
{preload_replace:pre_offset="3"}
{preload_replace:pre_entry_order="date"}
{preload_replace:pre_entry_sort="desc"}
{preload_replace:pre_player_template="/player/audio"}
{preload_replace:pre_disable="member_data|categories"}
{preload_replace:pre_mp3_download="yes"}
{preload_replace:pre_rss_feed="yes"}
{preload_replace:pre_show_tags="yes"}
{preload_replace:pre_show_date="yes"}
{preload_replace:pre_show_video="no"}
{preload_replace:pre_show_sharelink="yes"}
{preload_replace:pre_show_commentlink="yes"}
{sn_articles}
</pre>

<p>As you can see there are many defined variables being passed to the snippets. The most important pieces of this are the variable <code>{pre_channel}</code>, which defines the channel or channels being passed to the snippet, and the last line <code>{sn_articles}</code> which defines which snippet all this is passed to.</p>

<p>If you study the snippet, most of the rest are fairly obvious. For example <code>{pre_logo}</code> defines which image file to use in the header for the logo. <code>{pre_description}</code> and <code>{pre_keywords}</code> supply values for the meta tags in the <code><head></code> section.</p>

<h4>Less obvious variables</h4>
<ul>
  <li>The <code>{pre_highlights_categories}</code> variable contains the Entry ID number of an entry in Channel Descriptions. So "19028" is the entry_id for the entry "Illinois Public Media News" in the Channel Desciptions channel. </li>
  <li><code>{pre_tag_channel_template}</code> is a variable passed to template in the "tags" template group. Any time you see a tag cloud, or a page using the "tags" template, this variable is important for connecting things.</li>
  <li><code>{pre_offset}</code> is used as a conditional value for <code>{sn_articles}</code>. If the value is "3" then three stories will appear at the top of the web page as seen on the News home page: <a href="http://will.illinois.edu/news/">http://will.illinois.edu/news/</a>. If the value is not "3" the the stories will simply flow down the page like most sections do. As seen on the News home page, this allows more than one story to appear above the fold. (The value of this is increasingly dubious with the acsendance of mobile, but for now that's how we're laying this out.)</li>
  <li>Most of the remaining <code>{preloud_replace}</code> variables are switches used in conditionals in the snippets. You can figure them out pretty easily by reading the snippet code. There are a few deprecated variable, like <code>{pre_show_commentlink}</code> which was used to enable or disable commenting for a given channel template. But since then we disabled commenting for the entire site, so this variable doesn't currently do anything. Similarly you might find other variables that don't do anything, which is something to clean up during the next iteration of the site.</li>
  </ul>


        <h3>ExpressionEngine’s Parse Order</h3>
        <p>Templates, Snippets, and the other elements are parsed by EE in a specific order. It’s important to understand parse order to follow the logic of page generation. Templates define variables, then pass them to Snippets. Snippets contain Embedded Templates, Global Variables, and Low Variables. Each of these elements is parsed by EE in a specific sequence.  Here’s a handy guide to EE Parse Order:</p>

        <p><a href="http://loweblog.com/downloads/ee-parse-order.pdf" target="_blank">http://loweblog.com/downloads/ee-parse-order.pdf</a></p>
      </section>
      
      
           <!-- Snippets
    ================================================== -->        
        <section id="snippets">
          <div class="page-header">
            <h2>Snippets</h2>
          </div>       

        <p class="lead">Snippets do most of the heavy lifting in pulling content from the database. The main snippets used throughout the site are:<p>

        <ul>
          <li>{sn_articles}</li>
          <li>{sn_article}</li>
        </ul>

        <p>These two snippets contain the markup and logic for about 99 percent of the entire site.  The {sn_article} snippet generates home “list” pages of content for most of the major WILL content channels, and the {sn_article} snippet creates single-entry pages for each entry in that channel.</p>

        <p>For each content channel, its index template uses {sn_articles} to create a Home page with a number of entries in summary form. In the template group for that channel, there will be a “story” or “program” template that uses {sn_article} to generate full, single-entry pages. The {sn_articles} snippet is expecting a url_title variable to be passed as part of any links to it (usually as a segment_3), so it can pull in the data for that entry.</p> 

        <p>For example, here is the News home page url using {sn_articles}:</p>
        
        <blockquote>http://will.illinois.edu/news</blockquote>

        <p>And here is a News story url containing a url_title variable as part of its url:</p>
        
        <blockquote>http://will.illinois.edu/news/story/school-consolidation-referendum-sparks-disagreement</blockquote>
        
        <h3>List of all snippets</h3>

        <ul>
          <li>{sn_ag_audio_daily}</li>
          <li>{sn_article}</li>
          <li>{sn_articles}</li>
          <li>{sn_articles_by_tag}</li>
          <li>{sn_articles_grid}</li>
          <li>{sn_articles_related_entries}</li>
          <li>{sn_audioplayer}</li>
          <li>{sn_audioplayer_channels}</li>
          <li>{sn_audioplayer_static_audio_url}</li>
          <li>{sn_content_channels_all}</li>
          <li>{sn_content_channels_am}</li>
          <li>{sn_content_channels_fm}</li>
          <li>{sn_content_channels_iym}</li>
          <li>{sn_content_channels_tv}</li>
          <li>{sn_forms_email}</li>
          <li>{sn_homepage}</li>
          <li>{sn_homepage_education}</li>
          <li>{sn_homepage_illinoisyouthmedia}</li>
          <li>{sn_homepage_projects}</li>
          <li>{sn_pages}</li>
          <li>{sn_pages_full_width}</li>
          <li>{sn_pbcorecollection}</li>
          <li>{sn_rss}</li>
          <li>{sn_tags}</li>
          <li>{sn_tags_full_articles}</li>
          <li>{sn_video}</li>
        </ul>

        </section>    
        
               
     <!-- Embeds
    ================================================== -->        
        <section id="embeds">
          <div class="page-header">
            <h2>Embeds</h2>
          </div>
          <p class="lead">Embedded templates are used in most pages, providing sidebars and other secondary content. Conditional logic is used in many snippets to determine which embedded template is used. </p>
          <p>For example in the {sn_homepage} snippet, different sidebars are displayed depending on what’s in segment_1 of the url. So <em>http://will.illinois.edu/tv</em> gets a sidebar based on the template <em>embeds/_embed_sidebar_tv</em>, while <em>http://will.illinois.edu/am</em> gets the sidebar for WILL-AM which is <em>embeds/_embed_sidebar_am</em>. This kind of logic is used in many snippets. </p>

          <p>Because Embeds are processed later in the EE parse order, when they are embedded in Snippet it’s necessary to pass pre-defined variable to them from the Snippet. For example:</p>
        <ul>
          <li>The template site/index defines a variable of {pre_highlights_categories} and assigns it a value of “66”. </li>
          <li>The Snippet {sn_homepage} converts the {pre_highlights_categories} variable instantly to “66” wherever it appears in the Snippet. </li>
          <li>Since the Embed is processed after the Snippet has converted it to “66” we can’t pass on {pre_highlights_categories} to the Embed.</li>
          <li>Since the Embed is processed after the Snippet has converted it to “66” we can’t pass on {pre_highlights_categories} to the Embed.</li>
          <li>Inside the Embed, the exp:channel:entries tag can then use embed_highlights_categories to declare categories=”{embed_highlights_categories}”, which the Embed sees as the value “66” we passed from the Snippet.</li>
        </ul>        
        <h3>Embeds examples</h3>
        <ul>
          <li>embeds/_embed_agriculture_links – Used on main Home page</li>
          <li>embeds/_embed_sidebar_home – Sidebar on Home page. Includes other embedded elements</li>
          <li>embeds/_embed_social_metadata – contains social metadata for any page that uses the snippet {sn_articles}</li>
        </ul>
        <p>There are many other embedded templates, and they're all located in the Embeds template group. Once you follow the logic for the sidebars, you'll understand how they all work.</p>         
    </section>
    
               
     <!-- Global Variables
    ================================================== -->        
        <section id="gv">
          <div class="page-header">
            <h2>Global Variables</h2>
          </div>
          <p class="lead">User defined Global Variables contain static content, and are processed very late in the EE parsing order. They are used for links to stylesheets and scripts, or static bits of markup used throughout the site. </p>
          <p>We use the prefix “gv_” in the name of Global Variables to make them easy to spot inside Templates and Snippets.</p>
          <p>The only exception to the above is in the case of Low Variables, which also appear inside the Global Variables control panel. To keep them straight, we use the prefix “lv_” for all Low Variables.</p>
        </section>
        
               
     <!-- Low Variables
    ================================================== -->        
        <section id="lowvariables">
          <div class="page-header">
            <h2>Low Variables</h2>
          </div>
          <p class="lead">Low Variables is an Addon Module that provides a different parsing order for variables, depending on how you want to use them. For example, you can set a Low Variable for parsing before Snippets, so they can process dynamic content before the Snippet is parsed.</p>
          <p>The Low Variable {lv_edit_this} is used in this way to insert “Edit This” links in content pages if the user is logged in to EE. </p>
          <p>But Low Variables can also be used to hold static content we want to allow users to edit, like {lv_card_support} which is the fundraising message on the home page.</p>
          <p>Low Variables can use all the different field types installed in the EE instance, including WYGWAM, Related Entires, and all the rest.  We might find it useful to expand use of Low Variables, but I’ve kept it to a minimum to avoid complicating the site and adding dependencies on Addons.</p>
          <p>Documentation on the Low Variables module is available here: <a href="http://gotolow.com/addons/low-variables" target="_blank">http://gotolow.com/addons/low-variables</a></p>
        </section>
        
                
     <!-- Static Templates
    ================================================== -->        
        <section id="statictemplates">
          <div class="page-header">
            <h2>Static Templates</h2>
          </div>
        <p class="lead">A few templates don’t use Snippets, but contain all of their own markup:</p>  
        <ul>
          <li>sitemap/index</li>
          <li>contact/index</li>
          <li>contact/webmaster</li>
          <li>weather/index</li>
          <li>am/willplayer</li>
          <li>weather/index (contains PHP, and requires PHP to be enabled in template Preferences)</li>
        </ul> 
        <p>These templates rarely if ever change, so don't need to be any more complicated.</p>
        </section>          
                
     <!-- Audioplayers: How they work
    ================================================== -->        
        <section id="audioplayers">
          <div class="page-header">
            <h2>Audioplayers: How they work</h2>
          </div>
          <p class="lead">The “player/audio” template is used for all audio archives.</p>
          <p><em>player/audio</em></p>
          <p>The player/audio template uses {sn_audioplayer} for the player window markup.  {sn_audioplayer} contains the exp:channel:entries tags which pull in the entry_id from channel, which causes the player to display the entry title, an image if available, and the mp3 file url.</p>
          <p>Make sure the channel you want audio to play from is added to {sn_audioplayer_channels}.</p>
          <p><em>player/audioplayer_newscast</em></p>
          <p>Used for the WILL Newscast which is always the same file name. This template passes title metadata and a static url for the newscast audio file to {sn_audioplayer_static_audio_url}.  The snippet contains the player markup. The same snippet can be used for any other players that need a static audio url, either a file or a live steam. </p>
          <p>Newscast audio url: http://audio01.will.illinois.edu/WILLAM580newscast.mp3</p>
          <p><em>player/audioplayer_irr</em></p>
          <p>Used for the Illinois Radio Reader live stream. This also uses {sn_audioplayer_static_audio_url}, and passes the IRR live stream url to the snippet. </p>
          <p>IRR live stream url: http://icecast.will.illinois.edu:8000/WILL-IRR</p>
          <p><em>am/willplayer and fm/willplayer</em></p>
          <p>These templates reflect legacy urls from past WILL websites. We kept them the same for that reason. They contain all the markup for the WILL-AM and WILL-FM live stream players, including static links to the stream urls. </p>
          <p>These templates can be enhanced in various ways. They contain a “promocard” section that can be used for promotional announcements, underwriting, or anything else. These currently contain a static fundraising message, but the plan is to make them dynamic and editable by Marketing.</p>          
          
        </section>    
        
     <!-- Pages
    ================================================== -->        
        <section id="pages">
          <div class="page-header">
            <h2>Pages</h2>
          </div>
          <p class="lead">The website contains many unique pages that are maintained in the section named WILL Pages. Each entry in WILL Pages is given a Pages URI, which is different from a normal EE entry url in that it can be anything. The entry is also assigned to a specific template via the Template dropdown list. For example our About page is a WILL Page entry given the Pages URI of “/about”, and assigned to the template “pages/about”. </p>
          <p>Most WILL Pages are straightforward, and contain content that doesn’t often change. But there are a few fairly complicated Pages that require special care when editing. We keep the WILL Pages section fairly locked down in terms of user access for this reason.</p>
          
          <h3>Outlier Pages</h3>
          <p>Several entries include markup that is stripped by ExpressionEngine when you reopen the entry for editing. This is actually the WYGWAM field (Description) trying to protect from malicious code being injected into the database. WYGWAM strips out key part of the markup, messing up the entire page. The solution is to edit the markup in a standard text/html editor, then paste it into the WYGWAM Description field in Source view. WYGWAM doesn’t mess up the markup on save, just upon re-opening the entry for editing.</p>
          <p><em>Contribute to WILL</em></p>
          <p>This has the url http://will.illinois.edu/support/pledgeform, and also the alias url http://willpledge.org.  The WILL Pages entry contains Bootstrap and other markup that must be entered into the Description WYGWAM field as html. </p>
          <p><em>Corporate Support</em></p>
          <p>This WILL Page contains complex markup including a Collapse section and html5 <audio> content.</p>
          <p><em>Repeating: Don’t try to edit these in EE</em></p>
          <p>The above a few other entries contain complicated markup best maintained outside of EE.  You can paste the markup into WYGWAM in Source view and it’ll save just fine. But when you re-open the entry, WYGWAM mangles the markup. Don’t even bother trying to edit this within the entry. Maintain the markup for the entry outside of EE, and paste it in the entry as changes are needed.</p>                    
        </section>              
        
     <!-- Outliers
    ================================================== -->        
        <section id="outliers">
          <div class="page-header">
            <h2>Outlier Content Sections</h2>
          </div>
          <p class="lead">Most content sections are very simple: a home "listing" page with summary views of multiple entries, and an "story" or "program" page for a complete view of single entries within the content section. But a few sections are more complex, and require unique design solutions.</p>
          
          <h3>Illinois Youth Media</h3>
          <p>The Home page of this section uses the snippet {sn_homepage_illinoisyouthmedia} to create a display featuring the top three/most recent projects, and below that a grid showing all other projects. </p>
          <p>Project pages use a snippet named {sn_homepage_projects} to create a project Home page.  This snippet is also used for each single entry page in the project using {if} statements to display conditional markup. This is either extremely clever and elegant, or more complicated than I would like, I can’t decide which. </p>
          <p>With a little more development, {sn_homepage_projects} might be useful for any future projects of any kind. This would require adding a variable-driven sidebar, at the very least. </p>
          
          <h3>Mental Health</h3>
          <p>The template for this single-page legacy project uses {sn_articles_related_entries} to display related entries from arbitrary channels, and a new channel Content Collections or {collections} to create a single entry containing the related entries. </p>
          <p>Important: The mentalhealth/index template contains a variable for {pre_entry_id}, which contains the entry_id of the Mental Health entry in the Content Collections channel. Like this: {preload_replace:pre_entry_id="33111"}</p>
          <p>New collections can now be created simply by:</p>
        <ul>
          <li>adding a new template group named for the collection’s desired segment_2</li>
          <li>creating an entry in Content Collections with the related entries</li>
          <li>then adding the entry_id in the template’s {pre_entry_id} variable</li>
        </ul>


          <h3>Election2014</h3>
          <p>This section consists of two web pages and the live audio player for IRR. The two pages are both created as WILL Pages. These point to the illinoisradioreader/index template, which uses the standard {sn_pages} snippet and the embeds/_embed_sidebar_illinoisradioreader template for its sidebar.  The audio player template is player/audioplayer_irr, and the sidebar contains the link to launch it.</p>
          <ul>
            <li>{preload_replace:pre_channel="features|news|newsnational|focus|highlights"}</li>
            <li>{preload_replace:pre_tags="election-2014"}</li>
            <li>{sn_articles_by_tag}</li>
          </ul>
          <p>The snippet simply displays any entries in the specified channels containing the tag “election-2014” (which is added to entries as election 2014, without the hyphen). </p>
          <p>The other templates in the Election2014 group do the same thing using tags for the different election contests, e.g. the election2014/illinois-governor template contains this variable: {preload_replace:pre_tags="illinois-governor-2014"}</p>
          <p>If you want to create a new project/template group that sorts content by tag, just include the right channels in the {pre_channel} variable, and the uri safe tagnames in the {pre_tag} variable. </p>     
          <p>Documentation on the EE Tagger extension is available here: <a href="http://www.devdemon.com/documentation/tagger/" target="_blank">http://www.devdemon.com/documentation/tagger/</a></p>     
          
           
          <h3>Education Section</h3>
          <p>The index template uses a unique {sn_homepage_education} to display a 2x2 grid of Education Blog posts sorted by tag. The Education Blog displays all blog entries, and has four sub-blogs sorted by the four main tags:</p>
        <ul>
          <li>Youth Made Media (url-safe tag for template is youth-made-media)</li>
          <li>PBS Learningmedia (pbs-learningmedia)</li>
          <li>For Teachers (for-teachers)</li>
          <li>For Parents and Families (for-parents-and-families)</li>
        </ul>   
        <p><i class="icon-hand-right"></i> <em>Important: Blog authors must use these exact tags to allow posts to be correctly sorted. Adding a hyphen between any of the tag words entered conflicts with the url-safe tag, so hyphens should never be used in tags.</em></p>                                 
        </section>          
      </div>
    </div>
  </div>

    <!-- Footer
    ================================================== -->
    <footer class="footer">
      <div class="container">
        <p>Designed and built with gratitude and determination by the Illinois Public Media Department of New Media &amp; Innovation.</p>

        <ul class="footer-links">
          <li><a href="http://willtech.tumblr.com/" target="_blank">New Media &amp; Innovation Blog</a></li>
          <li class="muted">&middot;</li>
          <li><a href="mailto:will-web@illinois.edu?subject=website_issues">Report Issues</a></li>
        </ul>
      </div>
    </footer>

    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script>
    <script src="/sitemanual//assets/js/jquery.js"></script>   
    <script src="/sitemanual//assets/js/bootstrap-transition.js"></script>
    <script src="/sitemanual//assets/js/bootstrap-dropdown.js"></script>
    <script src="/sitemanual//assets/js/bootstrap-scrollspy.js"></script>
    <script src="/sitemanual//assets/js/bootstrap-tab.js"></script>
    <script src="/sitemanual//assets/js/bootstrap-tooltip.js"></script>
    <script src="/sitemanual//assets/js/bootstrap-popover.js"></script>
    <script src="/sitemanual//assets/js/bootstrap-button.js"></script>
    <script src="/sitemanual//assets/js/bootstrap-collapse.js"></script>
    <script src="/sitemanual//assets/js/bootstrap-carousel.js"></script>
    <script src="/sitemanual//assets/js/bootstrap-typeahead.js"></script>
    <script src="/sitemanual//assets/js/bootstrap-affix.js"></script>
    <script src="/sitemanual//assets/js/holder/holder.js"></script>
    <script src="/sitemanual//assets/js/google-code-prettify/prettify.js"></script>
    <script src="/sitemanual//assets/js/application.js"></script>
    <script src="/sitemanual//assets/js/back-to-top.js"></script>
   	<a href="#0" class="cd-top">Top</a>


  </body>
</html>

<!-- Localized -->